
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../main.css"/>
    <link rel="stylesheet" type="text/css" href="project_pages.css"/>

    <title>Scott Stack's Website</title>

    <script type="text/javascript">
      var blue_pressed = 0;
      var green_pressed = 0;
      var red_pressed = 0;

      var redColor = 255;
      var greenColor = 255;
      var blueColor = 255;

      var mouseY = 0;
      
      var redPotLine;
      var greenPotLine;
      var bluePotLine;

      function unPressButtons() {
        if (red_pressed == 1) {
          red_pressed = 0;
        }
        else if (green_pressed == 1) {
          green_pressed = 0;
        }
        else if (blue_pressed == 1) {
          blue_pressed = 0;
        }
      }

      function mouseMoved(evt) {
        mouseY = evt.clientY;
      }

      setInterval(function monitorMouse() {
        var redtest = document.getElementById("redtest");
        var greentest = document.getElementById("greentest");
        var bluetest = document.getElementById("bluetest");

        if (red_pressed == 1) {
          redColor = 255/200 * mouseY;
          redPot.setAttribute("transform", "rotate(" + 360/255 * redColor.toString() + " 902 72)");
          
          //redtest.innerHTML = redColor.toString(); 
        }
        else if (green_pressed == 1) {
          greenColor = 255/200 * mouseY;
          greenPot.setAttribute("transform", "rotate(" + 360/255 * greenColor.toString() + " 982 72)");

          //greentest.innerHTML = greenColor.toString(); 
        }
        else if (blue_pressed == 1) {
          blueColor = 255/200 * mouseY;
          bluePot.setAttribute("transform", "rotate(" + 360/255 * blueColor.toString() + " 1062 72)");

          //bluetest.innerHTML = blueColor.toString(); 
        }

        document.getElementById("page_title").style.color = "rgb(" + Math.floor(redColor).toString() + "," + Math.floor(greenColor).toString() + "," + Math.floor(blueColor).toString() + ")";

      }, 100);


    </script>

  </head>


  <body>
    <div id="page">
      <div id="Banner">
        
        <p id="page_title">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspScott Stack</p>
        <object data="../main_circuit.svg" type="image/svg+xml" style="position:absolute;height:100%;width:100%" id="svg_circuit"></object>
        
        <script>
          var redPot;
          var greenPot;
          var BluePot;
          
          var svgElm = document.getElementById("svg_circuit"); 
          svgElm.addEventListener("load",function(){
          var svgDoc = svgElm.contentDocument;

          svgDoc.addEventListener("mousemove", function mouseMoved(evt) {
            mouseY = evt.clientY;
          }, false);

          svgDoc.getElementById("main_circuit").addEventListener("click", function unClickButtons(evt) {
            if (clickedOnce == 0) {
                  if (red_pressed == 1) {
                    red_pressed = 0;
                  }
                  if (green_pressed == 1) {
                    green_pressed = 0;
                  }
                  if (blue_pressed == 1) {
                    blue_pressed = 0;
                  }
            }
            clickedOnce = 0;
          }, false);

          redPot = svgDoc.getElementById("red_pot");
          redPot.addEventListener("mousedown",function redPressed() {
            red_pressed = 1;
            clickedOnce = 1;
          } , false);
          redPot.style.cursor = "pointer";
          
          greenPot = svgDoc.getElementById("green_pot");
          greenPot.addEventListener("mousedown",function greenPressed() {
                green_pressed = 1;
            clickedOnce = 1;
          },false);
          greenPot.style.cursor = "pointer";
          
          bluePot = svgDoc.getElementById("blue_pot");
          bluePot.addEventListener("mousedown",function bluePressed() {
            blue_pressed = 1;
            clickedOnce = 1;
          },false);
          bluePot.style.cursor = "pointer";

              
          },false);
        </script>

       </div>

          <!-- TEST the potentiometer values
          Red Pressed: <p id="redtest"></p>
          Green Pressed: <p id="greentest"></p>
          Blue Pressed: <p id="bluetest"></p>
          -->

        <div class="navbar">
        <table class="navbar_table" cellspacing="0">
          <tr>
            <td class="navbar_entry">
              <a href="../index.html">
            Home
              </a>
            </td>
            
            <td class="navbar_entry">
              <a href="../projects.html" style="color:#FFFFFF;background:#006561;">
            Projects
              </a>
              <ul>
                <li class="submenu_item"><a href="power_supply.html">Bench Power Supply</a></li>
                <li class="submenu_item"><a href="pcb_clock.html">PCB Alarm Clock</a></li>
                <li class="submenu_item"><a href="night_vision.html">Night Vision Goggles</a></li>
                <li class="submenu_item"><a href="desk.html">Motorized Desk</a></li>
                <li class="submenu_item"><a href="IR_recorder.html">IR Recorder</a></li>
                <li class="submenu_item"><a href="home_automation_v2.html">Home Automation V2</a></li>
                <li class="submenu_item"><a href="internet_robot.html">Internet Robot</a></li>
                <li class="submenu_item"><a href="N64_mod.html">N64 Mod</a></li>
                <li class="submenu_item"><a href="../projects.html">. . .</a></li>
              </ul>
            </td>

            <td class="navbar_entry">
              <a href="../contact.html">
            Contact
              </a>
            </td>

          </tr>
        </table>
        </div>

        <div class="main_content">
    <h1 id="project_title">Night Vision Goggles</h1>
  
  <table>
    <tr>
      <td class="text_td">
        <p class="section_title">Overview</p>
      <p class="section_text">
        Since phone cameras pick up the IR spectrum, I though maybe I could create a night vision camera using one of my old phones and some IR LEDs. I also have a google cardboard like device that allows you to turn your phone into a virtual reality headset, which I thought would be perfect to make a set of night vision goggles. It actually worked out pretty well! After removing the IR filter from the phones camera, the "goggles" let you see pretty far in complete darkness.
        <br/>
        <br/>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/MEAFHdoCs30?rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe> 
      </p>

      <p class="section_title">Details</p>

      <p class="section_text">
        I was hoping that the IR filter in the phone camera wouldn't interfere too much, but unfortunately that didn't turn out to be the case. I had to remove the IR filter from one of my old phones instead. I found a great tutorial on how to do that here: <a href="http://www.eigenimaging.com/learn-more/NexusDYI">Modify Google Galaxy Nexus for NIR</a>. It wasn't too difficult, but was a lot more involved than I was expecting. Here are some pics of the process
      </p>

      <table>
        <tr>
          <td><a href="picture_viewer.php?img=night_vision_media/ir_filter_annotated&referer=night_vision"><img class="section_image" src="night_vision_media/ir_filter_annotated.jpg"></a></td>
          <td><a href="picture_viewer.php?img=night_vision_media/phone_inside_annotated&referer=night_vision"><img class="section_image" src="night_vision_media/phone_inside_annotated.jpg"></a></td>
        </tr>
      </table>


      <p class="section_text">
        Once the IR filter was out of the phone camera, I started attaching some IR LEDs to the outside of the google cardboard. I bought some 'super bright' IR LEDs from amazon that can handle up to 100mA of continuous current each @1.6V forward voltage drop. I was going to put 9 of them on the front, but that seemed like total overkill after seeing how bright these things are, so I only ended up putting 6 on the front. I'm using a lithium ion battery pack from sparkfun to power the LEDs, and have a power switch attached to the cardboard that will turn them on and off. 
      </p>


      <table>
        <tr>
          <td><a href="picture_viewer.php?img=night_vision_media/nv_goggles_inside1&referer=night_vision"><img class="section_image" src="night_vision_media/nv_goggles_inside1.jpg"></a></td>
          <td><a href="picture_viewer.php?img=night_vision_media/nv_goggles_inside2&referer=night_vision"><img class="section_image" src="night_vision_media/nv_goggles_inside2.jpg"></a></td>

        </tr>
      </table>

      <p class="section_text">
        See the video above and some of the images below for the finished product!
      </p>



    </td>
      <td class="main_image">
        <a href="picture_viewer.php?img=night_vision_media/nv_goggles&referer=night_vision"><img src="night_vision_media/nv_goggles.jpg" class="main_image"/></a>
      </td>
    </tr>
  
    <tr>
      <td colspan="2">
        <p class="section_title">More Pictures</p>
        <table class="img_table">
      <tr>

        <td class="img_td">
        <a href="picture_viewer.php?img=night_vision_media/nv_goggles_outside1&referer=night_vision"><img src="night_vision_media/thumbs/nv_goggles_outside1_thumb.jpg" class="img_thumb"/></a>
        </td>

        <td class="img_td">
        <a href="picture_viewer.php?img=night_vision_media/night_vision_view1&referer=night_vision"><img src="night_vision_media/thumbs/night_vision_view1_thumb.jpg" class="img_thumb"/></a>
        </td>

        <td class="img_td">
        <a href="picture_viewer.php?img=night_vision_media/nv_goggles_outside2&referer=night_vision"><img src="night_vision_media/thumbs/nv_goggles_outside2_thumb.jpg" class="img_thumb"/></a>
        </td>

        <td class="img_td">
        <a href="picture_viewer.php?img=night_vision_media/night_vision_view2&referer=night_vision"><img src="night_vision_media/thumbs/night_vision_view2_thumb.jpg" class="img_thumb"/></a>
        </td>


      </tr>
        </table>
      </td>
    </tr>
    
    
  </table>
      </div>

      <!--footer      -->
      <div id="footer">
  Site written and designed by Scott Stack &nbsp &nbsp &nbsp &nbsp |
  &nbsp &nbsp &nbsp &nbsp Last updated 02/2018
      </div>


        </div>

    </div>
    </body>
</html>
